<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>FriendFinder</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.2/css/bootstrap-select.min.css" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.2/js/bootstrap-select.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="display-4 text-center card-header">
                        Survey Questions
                    </div>
                    <div class="card-body">
                        <h1 class="display-6">About You</h1>
                        <form>
                            <div class="form-group">
                                <label class="font-weight-bold" for="name">Name (Required)</label>
                                <input type="text" class="form-control" id="name" placeholder="Enter your name">
                            </div>

                            <div class="form-group">
                                <label class="font-weight-bold" for="photo">Photo Image (Required)</label>
                                <input type="text" class="form-control" id="photo" placeholder="Provide a Link to Your Image">
                            </div>
                            <hr>

                            <div class="form-group">
                                    <label class="font-weight-bold" for="Question1">Question 1</label>
                                    <p>You are easy-going most of the time.</p>
                                    <select class="form-control" id="Question1">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                     <br>

                                    <label class="font-weight-bold" for="Question1">Question 2</label>
                                    <p>You are ambitious in setting career goals.</p>
                                    <select class="form-control" id="Question2">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                     <br>

                                    <label class="font-weight-bold" for="Question1">Question 3</label>
                                    <p>You are bossy.</p>
                                    <select class="form-control" id="Question3">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                    <br>

                                    <label class="font-weight-bold" for="Question1">Question 4</label>
                                    <p>You are known for being creative.</p>
                                    <select class="form-control" id="Question4">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                     <br>

                                    <label class="font-weight-bold" for="Question1">Question 5</label>
                                    <p> You sympathize with others' feelings</p>
                                    <select class="form-control" id="Question5">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                     <br>

                                    <label class="font-weight-bold" for="Question1">Question 6</label>
                                    <p>You have difficulty understanding abstract ideas.</p>
                                    <select class="form-control" id="Question6">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                     <br>

                                    <label class="font-weight-bold" for="Question1">Question 7</label>
                                    <p>You don't mind being the center of attention.</p>
                                    <select class="form-control" id="Question7">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                     <br>

                                    <label class="font-weight-bold" for="Question1">Question 8</label>
                                    <p>Placeholder text</p>
                                    <select class="form-control" id="Question8">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                     <br>

                                    <label class="font-weight-bold" for="Question1">Question 9</label>
                                    <p>You get upset easily.</p>
                                    <select class="form-control" id="Question9">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                     <br>

                                    <label class="font-weight-bold" for="Question1">Question 10</label>
                                    <p>You like to make people feel at ease.t</p>
                                    <select class="form-control" id="Question10">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                     <br>
                            </div>
                            
                            <button id="submitButton" type="submit" class="btn btn-primary">Submit</button>
                        </form>
                     </div>
                </div>
           </div>
        </div>  
        <!-- Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h2 class="modal-title" id="friendName"></h2>
                     
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                       <p class="modal-title" id="friendPicture"></p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" id = "modalClose" class="btn btn-primary" data-dismiss="modal">Close</button>
                     </div>
                  </div>
                </div>
              </div>

        <footer class="footer">
          <div class="container">
            <p><a href="/api/friends">API Friends List </a> | <a href="https://github.com/JuliaLid/Friend-Finder-App-Using-Node-and-Express-Servers" target="_blank" >GitHub Repo</a></p>
          </div>
        </footer>
    </div> 
    
<style type="text/css">
    #bootstrapSelectForm .selectContainer .form-control-feedback {
        /* Adjust feedback icon position */
        right: -15px;
    }
</style>
    <script>
        $("#submitButton").on("click", function(event){
            event.preventDefault();

            var friend = {
                name:$("#name").val().trim(),
                photo:$("#photo").val().trim(),
                question1:$("#Question1").val(),
                question2:$("#Question2").val(),
                question3:$("#Question3").val(),
                question4:$("#Question4").val(),
                question5:$("#Question5").val(),
                question6:$("#Question6").val(),
                question7:$("#Question7").val(),
                question8:$("#Question8").val(),
                question9:$("#Question9").val(),
                question10:$("#Question10").val(),
            };

            console.log(friend);

                
            $.post("/api/friends", friend)
                
            .then(function(data) {
                    $("#friendName").html(data[0]);
                    var img = $("<img>");
                    img.attr("src",data[1]);
                    img.addClass("img-fluid rounded mx-auto d-block")
                    img.appendTo("#friendPicture");
                               
                    $('#myModal').modal({ show: true})
                    // window.location.reload();
            });
                    //  window.location.reload();
                    // $("#name").val("");
                    // $("#photo").val("");
                    // $("#Question1").val("");
                    // $("#Question2").val("");
                    // $("#Question3").val("");
                    // $("#Question4").val("");
                    // $("#Question5").val("");
                    // $("#Question6").val("");
                    // $("#Question7").val("");
                    // $("#Question8").val("");
                    // $("#Question9").val("");
                    // $("#Question10").val("");
        });
       
    $('#modalClose').on('click', function (e) {
            window.location.reload();
      })
        
                    
    </script>
</body>
</html>